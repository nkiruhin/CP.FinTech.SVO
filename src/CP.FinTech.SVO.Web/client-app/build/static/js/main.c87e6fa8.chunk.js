(this["webpackJsonptest-admin"]=this["webpackJsonptest-admin"]||[]).push([[0],{409:function(e,t,a){},536:function(e,t){},569:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(15),r=a.n(c),s=(a(409),a(659)),i=a(658),j=a(196),o=a(319),l=a.n(o),d={login:function(e){var t=e.username;return localStorage.setItem("auth",JSON.stringify(t)),Promise.resolve()},checkAuth:function(e){e.params;return localStorage.getItem("auth")?Promise.resolve():Promise.reject()},logout:function(){return Promise.resolve()},getPermissions:function(e){return Promise.resolve()}},u=a(27),b=a(49),O=a.n(b),x=a(103),h=a(104),m=(a(92),"/api"),f=h.a.fetchJson,p={getList:function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,c,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/").concat(t),e.next=3,f(n);case 3:return c=e.sent,r=JSON.parse(c.body),e.abrupt("return",{data:r,total:10});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getMany:function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,c,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(m,"/").concat(t),e.next=3,f(n);case 3:return c=e.sent,r=JSON.parse(c.body),e.abrupt("return",{data:r});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getOne:function(){var e=Object(x.a)(O.a.mark((function e(t,a){var n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("".concat(m,"/").concat(t,"/").concat(a.id));case 2:return n=e.sent,c=JSON.parse(n.body),e.abrupt("return",{data:c});case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),create:function(){var e=Object(x.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("".concat(m,"/").concat(t),{method:"POST",body:JSON.stringify(a.data)});case 2:return e.sent,e.abrupt("return",{data:Object(u.a)(Object(u.a)({},a.data),{},{id:1})});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),update:function(){var e=Object(x.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("".concat(m,"/").concat(t,"/").concat(a.id),{method:"PUT",body:JSON.stringify(a.data)});case 2:return e.sent,e.abrupt("return",{data:{id:3}});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),delete:function(){var e=Object(x.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:{}});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleteMany:function(){var e=Object(x.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:[{}]});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},v=a(367),g=a(666),y=a(59),w=a(177),P=a(246),W=a(365),k=a(74),S=a(326),I=a.n(S),N=a(129),T=a(5),C=Object(N.a)({title:{flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},spacer:{flex:1}}),A=Object(n.forwardRef)((function(e,t){Object(y.a)();return Object(T.jsx)(w.a,{ref:t,to:"/tenant/1",primaryText:"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c",leftIcon:Object(T.jsx)(I.a,{}),onClick:e.onClick,sidebarIsOpen:!0})})),D=function(e){return Object(T.jsx)(P.a,Object(u.a)(Object(u.a)({},e),{},{children:Object(T.jsx)(A,{})}))},J=function(e){var t=C();return Object(T.jsxs)(W.a,Object(u.a)(Object(u.a)({},e),{},{elevation:1,userMenu:Object(T.jsx)(D,{}),children:[Object(T.jsx)(k.a,{variant:"h6",color:"inherit",className:t.title,id:"react-admin-title"}),Object(T.jsx)("span",{className:t.spacer})]}))},B=a(8),F=a(331),L=a.n(F),E=a(332),M=a.n(E),V=Object(N.a)((function(e){return{root:{marginTop:e.spacing(1)}}})),q=function(e){var t=e.dense,a=void 0!==t&&t;Object(B.f)((function(e){return e.theme}));var n=V();return Object(T.jsxs)("div",{className:n.root,children:[Object(T.jsx)(w.a,{to:"/tenant",primaryText:"\u0410\u0440\u0435\u043d\u0434\u0430\u0442\u043e\u0440\u044b",dense:a,leftIcon:Object(T.jsx)(L.a,{})}),Object(T.jsx)(w.a,{to:"/contract/create",primaryText:"\u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u044b",dense:a,leftIcon:Object(T.jsx)(M.a,{})})]})},z=function(e){return Object(T.jsx)(v.a,Object(u.a)(Object(u.a)({},e),{},{size:200}))},R=function(e){return Object(T.jsx)(g.a,Object(u.a)(Object(u.a)({},e),{},{appBar:J,sidebar:z,menu:q}))},U=a(660),Y=a(662),_=a(649),G=a(650),H=a(651),K=a(664),Q=a(661),X=a(652),Z=a(675),$=a(673),ee=a(669),te=a(663),ae=a(639),ne=a(637),ce=a(638),re=a(636),se=a(91),ie=a(645),je=a(640),oe=a(641),le=a(642),de=a(643),ue=a(644),be=function(e){var t=Object(re.a)(e).record,a=Oe(),n=Object(se.a)({type:"getList",resource:"contract/".concat(t.id,"/byTenant"),payload:{tenantid:t.tenantid}}),c=n.loaded,r=n.data;return t?Object(T.jsx)(ne.a,{className:a.root,children:Object(T.jsxs)(ce.a,{children:[Object(T.jsxs)(ae.a,{container:!0,spacing:2,children:[Object(T.jsx)(ae.a,{item:!0,xs:6,children:Object(T.jsx)(k.a,{variant:"h6",gutterBottom:!0,children:"\u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u044b"})}),Object(T.jsx)(ae.a,{item:!0,xs:6,children:Object(T.jsxs)(k.a,{variant:"h6",gutterBottom:!0,align:"right",children:["\u0410\u0440\u0435\u043d\u0434\u0430\u0442\u043e\u0440 ",Object(T.jsx)("br",{}),' "',t.shortName,'"']})})]}),c?Object(T.jsxs)(je.a,{children:[Object(T.jsx)(oe.a,{children:Object(T.jsxs)(le.a,{children:[Object(T.jsx)(de.a,{children:"ID"}),Object(T.jsx)(de.a,{className:a.rightAlignedCell,children:"ID \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u044f"}),Object(T.jsx)(de.a,{className:a.rightAlignedCell,children:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f"})]})}),Object(T.jsx)(ue.a,{children:r.map((function(e){return Object(T.jsxs)(le.a,{component:ie.a,to:"/contract/".concat(e.id),children:[Object(T.jsx)(de.a,{children:e.id}),Object(T.jsx)(de.a,{className:a.rightAlignedCell,children:e.rentalObjectId}),Object(T.jsx)(de.a,{className:a.rightAlignedCell,children:new Date(e.dateEnd).toLocaleDateString()})]},e.id)}))})]}):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"]})}):null},Oe=Object(N.a)({root:{width:600,margin:"auto"},spacer:{height:20},invoices:{margin:"10px 0"}}),xe=function(e){return Object(T.jsx)(U.a,Object(u.a)(Object(u.a)({},e),{},{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0410\u0440\u0435\u043d\u0434\u0430\u0442\u043e\u0440\u043e\u0432",perPage:25,bulkActionButtons:!1,children:Object(T.jsxs)(Y.a,{rowClick:"expand",expand:Object(T.jsx)(be,{}),children:[Object(T.jsx)(_.a,{source:"id",label:"ID"}),Object(T.jsx)(_.a,{source:"shortName",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(T.jsx)(_.a,{source:"address",label:"\u0410\u0434\u0440\u0435\u0441"}),Object(T.jsx)(_.a,{source:"inn",label:"\u0418\u043d\u043d"}),Object(T.jsx)(G.a,{source:"orgType",label:"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",choices:[{id:0,name:"\u041e\u041e\u041e"},{id:1,name:"\u0418\u041f"}]}),Object(T.jsx)(H.a,{})]})}))},he=function(e){return Object(T.jsx)(K.a,Object(u.a)(Object(u.a)({},e),{},{children:Object(T.jsx)(Q.a,{children:Object(T.jsx)(te.a,{minWidth:"100%",children:Object(T.jsxs)(ae.a,{container:!0,spacing:1,children:[Object(T.jsxs)(ae.a,{item:!0,xs:12,sm:12,md:3,children:[Object(T.jsx)(X.a,{label:"\u0418\u043c\u044f",source:"name",fullWidth:!0}),Object(T.jsx)(X.a,{label:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u0435",source:"contacts",fullWidth:!0})]}),Object(T.jsxs)(ae.a,{item:!0,xs:12,sm:12,md:3,children:[Object(T.jsx)(X.a,{label:"\u0418\u043c\u044f(\u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435)",source:"shortName",fullWidth:!0}),Object(T.jsx)(Z.a,{label:"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",fullWidth:!0,source:"orgType",choices:[{id:0,name:"\u041e\u041e\u041e"},{id:1,name:"\u0418\u041f"}]})]}),Object(T.jsxs)(ae.a,{item:!0,xs:12,sm:12,md:3,children:[Object(T.jsx)(X.a,{label:"\u041a\u041f\u041f",source:"kpp",fullWidth:!0}),Object(T.jsx)(X.a,{label:"\u041e\u0413\u0420\u041d",source:"ogrn",fullWidth:!0})]}),Object(T.jsx)(ae.a,{item:!0,xs:12,sm:12,md:3,children:Object(T.jsx)(X.a,{label:"\u0418\u041d\u041d",source:"inn",fullWidth:!0})}),Object(T.jsxs)(ae.a,{item:!0,xs:12,sm:12,md:12,children:[Object(T.jsx)(X.a,{label:"\u0410\u0434\u0440\u0435\u0441",source:"address",fullWidth:!0}),Object(T.jsx)(X.a,{label:"\u0410\u0434\u0440\u0435\u0441 2",source:"actualAddress",fullWidth:!0})]}),Object(T.jsx)($.a,{label:"\u041f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u0439 \u0441\u0447\u0435\u0442",source:"walletAddress",create:!0,children:Object(T.jsx)(ee.a,{children:Object(T.jsx)(X.a,{label:null})})})]})})})}))},me=a(655),fe=a(656),pe=a(657),ve=a(665),ge=a(195),ye=a(667),we=a(170),Pe=a(630),We=a(654),ke=a(358),Se=a.n(ke),Ie=a(677),Ne=a(653),Te=a(670),Ce=a(678),Ae=Object(N.a)((function(e){return{root:Object(we.a)({width:400},e.breakpoints.down("md"),{display:"none"})}})),De=Object(N.a)({stepper:{background:"none",border:"none",marginLeft:"0.3em"}}),Je=function(e){e.record;var t=e.basePath,a=De(),n=Object(Pe.a)();return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(Ie.a,{orientation:"vertical",classes:{root:a.stepper},children:[{id:1,date:1630753052e3,source:"asdasddasd",destination:"asdasdasd",amount:12312,contract_id:1}].map((function(e){return Object(T.jsxs)(Ne.a,{expanded:!0,active:!0,completed:!0,children:[Object(T.jsx)(Te.a,{StepIconComponent:function(){var e=Se.a;return Object(T.jsx)(e,{fontSize:"small",color:"disabled",style:{paddingLeft:3}})},children:new Date(e.date).toLocaleString(n,{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}),Object(T.jsx)(Ce.a,{children:Object(T.jsx)(Be,{record:e,basePath:t},"event_".concat(e.id))})]},e.id)}))})})},Be=function(e){var t=e.record,a=e.basePath;return t?Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(k.a,{variant:"body2",color:"textSecondary",children:[Object(T.jsx)(We.a,{source:"amount",options:{style:"currency",currency:"RUB"},record:t,basePath:a}),Object(T.jsx)("br",{}),Object(T.jsxs)(ae.a,{container:!0,children:[Object(T.jsxs)(ae.a,{item:!0,xs:6,children:[Object(T.jsx)(k.a,{variant:"body2",children:"\u0421\u0447\u0435\u0442 \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f"}),Object(T.jsx)(_.a,{source:"source",record:t,basePath:a})]}),Object(T.jsxs)(ae.a,{item:!0,xs:6,children:[Object(T.jsx)(k.a,{variant:"body2",children:"\u0421\u0447\u0435\u0442 \u0437\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"}),Object(T.jsx)(_.a,{source:"destination",record:t,basePath:a})]})]})]})}):null},Fe=function(e){var t=e.record,a=e.basePath,n=Ae();return Object(T.jsx)("div",{className:n.root,children:t&&Object(T.jsx)(Je,{record:t,basePath:a})})},Le=[{id:1,name:"\u041f\u0435\u0440\u0432\u0430\u044f"},{id:2,name:"\u0412\u0442\u043e\u0440\u0430\u044f"},{id:3,name:"\u0422\u0440\u0435\u0442\u044c\u044f"},{id:4,name:"\u0427\u0435\u0442\u0432\u0435\u0440\u0442\u0430\u044f"},{id:5,name:"\u041f\u044f\u0442\u0430\u044f"}],Ee=function(e){return Object(T.jsx)(U.a,Object(u.a)(Object(u.a)({},e),{},{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u043e\u0432",perPage:25,bulkActionButtons:!1,children:Object(T.jsxs)(Y.a,{rowClick:"edit",children:[Object(T.jsx)(_.a,{label:"ID",source:"id"}),Object(T.jsx)(G.a,{label:"\u041f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0435",source:"rentalObjectId",choices:Le,optionValue:"id",optionText:"name"}),Object(T.jsx)(me.a,{label:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",source:"dateEnd"}),Object(T.jsx)(H.a,{})]})}))},Me=function(e){return Object(T.jsx)(K.a,Object(u.a)(Object(u.a)({},e),{},{aside:Object(T.jsx)(Fe,{}),component:"div",children:Object(T.jsx)(Q.a,{children:Object(T.jsx)(te.a,{minWidth:"100%",children:Object(T.jsxs)(ae.a,{container:!0,spacing:1,children:[Object(T.jsxs)(ae.a,{item:!0,xs:12,sm:12,md:4,children:[Object(T.jsx)(fe.a,{label:"\u0414\u0430\u0442\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",source:"dateStart",fullWidth:!0}),Object(T.jsx)(fe.a,{label:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",source:"dateEnd",fullWidth:!0})]}),Object(T.jsxs)(ae.a,{item:!0,xs:12,sm:12,md:4,children:[Object(T.jsx)(Z.a,{label:"\u041f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0435",source:"rentalObjectId",choices:Le,fullWidth:!0}),Object(T.jsx)(pe.a,{label:"\u0421\u0442\u0430\u0432\u043a\u0430 \u0437\u0430 \u043a\u0432.\u043c",source:"ratePerSquareMeter",fullWidth:!0})]}),Object(T.jsxs)(ae.a,{item:!0,xs:12,sm:12,md:4,children:[Object(T.jsx)(X.a,{fullWidth:!0,label:"\u041f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u0439 \u0441\u0447\u0435\u0442",source:"walletAddress"}),Object(T.jsx)(ve.a,{label:"\u0410\u0440\u0435\u043d\u0434\u0430\u0442\u043e\u0440",source:"tenantId",reference:"tenant",basePath:"/tenant",validate:[Object(ge.c)()],children:Object(T.jsx)(Z.a,{optionText:"name",fullWidth:!0})})]})]})})})}))},Ve=function(e){return Object(T.jsx)(ye.a,Object(u.a)(Object(u.a)({},e),{},{children:Object(T.jsx)(Q.a,{children:Object(T.jsx)(te.a,{minWidth:"100%",children:Object(T.jsxs)(ae.a,{container:!0,spacing:1,children:[Object(T.jsxs)(ae.a,{item:!0,xs:12,sm:12,md:4,children:[Object(T.jsx)(fe.a,{label:"\u0414\u0430\u0442\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430",source:"dateStart",fullWidth:!0,defaultValue:new Date}),Object(T.jsx)(fe.a,{label:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",source:"dateEnd",fullWidth:!0,defaultValue:(new Date).setFullYear((new Date).getFullYear()+1)})]}),Object(T.jsxs)(ae.a,{item:!0,xs:12,sm:12,md:4,children:[Object(T.jsx)(Z.a,{label:"\u041f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0435",source:"rentalObjectId",choices:Le,fullWidth:!0}),Object(T.jsx)(pe.a,{label:"\u0421\u0442\u0430\u0432\u043a\u0430 \u0437\u0430 \u043a\u0432.\u043c",source:"ratePerSquareMeter",fullWidth:!0})]}),Object(T.jsxs)(ae.a,{item:!0,xs:12,sm:12,md:4,children:[Object(T.jsx)(X.a,{fullWidth:!0,label:"\u041f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u0439 \u0441\u0447\u0435\u0442",source:"walletAddress"}),Object(T.jsx)(ve.a,{label:"\u0410\u0440\u0435\u043d\u0434\u0430\u0442\u043e\u0440",source:"tenantId",reference:"tenant",basePath:"/tenant",validate:[Object(ge.c)()],children:Object(T.jsx)(Z.a,{optionText:"name",fullWidth:!0})})]})]})})})}))},qe=Object(j.a)((function(){return l.a}),"ru");var ze=function(){return Object(T.jsxs)(s.a,{dataProvider:p,authProvider:d,i18nProvider:qe,layout:R,children:[Object(T.jsx)(i.a,{name:"tenant",options:{label:"\u0410\u0440\u0435\u043d\u0434\u0430\u0442\u043e\u0440\u044b"},list:xe,edit:he}),Object(T.jsx)(i.a,{name:"contract",options:{label:"\u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u044b"},list:Ee,edit:Me,create:Ve})]})},Re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,681)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};r.a.render(Object(T.jsx)(ze,{}),document.getElementById("root")),Re()}},[[569,1,2]]]);
//# sourceMappingURL=main.c87e6fa8.chunk.js.map